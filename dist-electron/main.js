"use strict";const i=require("path"),t=require("electron");function l(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:()=>e[o]})}}return n.default=e,Object.freeze(n)}const p=l(i),d=process.env.SERVER_HOST,u=process.env.SERVER_PORT;let c;const a=()=>{t.app.whenReady().then(()=>{const e=new t.BrowserWindow({title:"Connected Device Viewer",width:1200,height:800,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:p.join(__dirname,"preload.js")}});e.webContents.on("select-bluetooth-device",(n,o,r)=>{n.preventDefault(),c=o,o.forEach(s=>{r(s.deviceId)})}),e.loadURL(`http://${d}:${u}`)})};t.app.on("ready",()=>{t.ipcMain.handle("select:bluetooth-devices",w),a()});t.app.on("window-all-closed",()=>{process.platform!=="darwin"&&t.app.quit()});t.app.on("activate",()=>{t.BrowserWindow.getAllWindows().length===0&&a()});const w=()=>c;
