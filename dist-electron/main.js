"use strict";const i=require("path"),t=require("electron");function s(e){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return o.default=e,Object.freeze(o)}const l=s(i),p=process.env.SERVER_HOST,d=process.env.SERVER_PORT,a=()=>{t.app.whenReady().then(()=>{const e=new t.BrowserWindow({title:"Connected Device Viewer",width:1200,height:800,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:l.join(__dirname,"preload.js")}});e.webContents.on("select-bluetooth-device",(o,n,r)=>{o.preventDefault(),n.forEach(c=>{r(c.deviceId)})}),e.loadURL(`http://${p}:${d}`)})};t.app.on("ready",()=>{a()});t.app.on("window-all-closed",()=>{process.platform!=="darwin"&&t.app.quit()});t.app.on("activate",()=>{t.BrowserWindow.getAllWindows().length===0&&a()});
